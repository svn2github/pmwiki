version=pmwiki-2.2.54 ordered=1 urlencoded=1
author=MichaelPaulukonis
charset=UTF-8
csum=added maintenance tag
name=PmWiki.DeletingPages
rev=37
targets=PmWiki.WikiAdministrator,Site.AllRecentChanges,PmWiki.EditVariables,Cookbook.DeleteAction,PmWiki.BackupAndRestore,Cookbook.CleanUp,PmWiki.WikiGroup,PmWiki.RecentChanges,Cookbook.RecentChangesDeletion,PmWiki.Categories,Category.Maintenance
text=(:Summary: Removing wiki pages:)%0aTo delete a wiki page, edit the page, select (highlight) all text in the edit textarea, and replace it with the single word%0a%0a->[@delete@]%0a%0aIt is a good idea to add a comment to the @@summary@@ field%0aexplaining why you deleted the page. (The field @@summary@@ is usually found%0ajust below the edit textarea).%0a%0aOn saving the change the page is deleted.  As an added safety feature, the deleted page still exists on the server (with a timestamp) and can be restored to the former page by the [[wiki administrator]].%0a%0aIf you suspect that a page has been deleted but aren't sure, have a look at the wikigroup's [=RecentChanges=]. Erasing a page counts as editing the page, and the activity is recorded there and on [[{$SiteGroup}.AllRecentChanges]].%0a%0aThe default word used for page deletion ("delete") can be changed in @@config.php@@ by setting the variable $DeleteKeyPattern (see [[Edit Variables]]). %0aIf there is a danger of malicious page deletion it may be a good idea to change the delete word to something more obscure. %0aThere is also a recipe for creating a separate delete action at Cookbook:DeleteAction.%0a%0a[[#cleanup]]%0a!! Removing deleted pages%0a%0aThe deleted pages are retained in the same @@wiki.d@@ directory in which they were created.%0aThey are renamed with an extension of @@,del-123456789@@ where @@123456789@@ is a unique number (timestamp). %0aA wiki administrator may log into the server via FTP or SSH and periodically remove these files.%0a%0aOne way to remove the files is to delete them. %0aIf you have shell access, you could use different commands, for example, go into the wiki.d directory and type one of these lines:%0a->[@rm -f *,del-*%0afind . -name '*,del-*' -delete@]%0a%0aAlternatively, the Cookbook:CleanUp recipe can purge those unused files. See also [[BackupAndRestore]].%0a%0a%0a>>faq%3c%3c [[#faq]]%0a%0aQ: How is a [[Wiki Group]] deleted?%0aA: An admin can remove the group pages from @@wiki.d/@@.  Note that a wiki page may also have related uploads.%0a%0aA: Fully deleting a group via the wiki isn't possible, since a delete counts as an "update" which causes the [[Recent Changes]] page to be re-created.%0aIt is possible to modify the site's configuration to allow deletion of the group's RecentChanges page -- see Cookbook:RecentChangesDeletion.%0a%0aQ: How is a [[Categories|Category]] deleted?%0aA: To delete a category, delete all the [@[[!Category]]@] references from all pages where they occur, then delete the category page as explained above.%0a%0a[[!maintenance]]%0a
time=1377051424
